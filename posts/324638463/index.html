<!DOCTYPE html>
<html lang='zh-CN'>

<head>
  <meta name="generator" content="Hexo 6.3.0">
  <meta name="hexo-theme" content="https://github.com/xaoxuu/hexo-theme-stellar/tree/1.18.5">
  <meta charset="utf-8">
  

  <meta http-equiv='x-dns-prefetch-control' content='on' />
  <link rel='dns-prefetch' href='https://gcore.jsdelivr.net'>
  <link rel="preconnect" href="https://gcore.jsdelivr.net" crossorigin>
  <link rel='dns-prefetch' href='//unpkg.com'>

  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True" >
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="theme-color" content="#f8f8f8">
  
  <title>Windows7 下安装 Oracle RAC11gR2 - Mer's Blog</title>

  
  <meta name="description" content="本文介绍了如何在 Window7 环境下安装 Oracle RAC11gR2 的方法以及安装过程中遇到的一些问题的解决方法">

  <!-- feed -->
  

  
    
<link rel="stylesheet" href="/css/main.css">

  

  

  

  


  
    
      <link href="https://cdn.bootcdn.net/ajax/libs/lxgw-wenkai-screen-webfont/1.6.0/lxgwwenkaiscreen.css" rel="stylesheet">
    
      <link href="https://fonts.font.im/css?family=PT+Mono" rel="stylesheet">
    
      <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC&display=swap" rel="stylesheet">
    
  
</head>

<body>
  




  <div class='l_body' id='start'>
    <aside class='l_left' layout='post'>
    

  

<header class="header"><div class="logo-wrap"><a class="title" href="/"><div class="main" ff="title">Mer's Blog</div><div class="sub normal cap">原来姹紫嫣红开遍，似这般都付与断井残垣</div><div class="sub hover cap" style="opacity:0">Talk is cheap, Show me the code</div></a></div>

<nav class="menu dis-select"></nav>
</header>


<div class="widgets">
<widget class="widget-wrapper search"><div class="widget-body"><div class="search-wrapper" id="search"><form class="search-form"><input type="text" class="search-input" id="search-input" data-filter="/blog/" placeholder="文章搜索"><svg t="1670596976048" class="icon search-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2676" width="200" height="200"><path d="M938.2 832.6L723.8 618.1c-2.5-2.5-5.3-4.4-7.9-6.4 36.2-55.6 57.3-121.8 57.3-193.1C773.3 222.8 614.6 64 418.7 64S64 222.8 64 418.6c0 195.9 158.8 354.6 354.6 354.6 71.3 0 137.5-21.2 193.2-57.4 2 2.7 3.9 5.4 6.3 7.8L832.5 938c14.6 14.6 33.7 21.9 52.8 21.9 19.1 0 38.2-7.3 52.8-21.8 29.2-29.1 29.2-76.4 0.1-105.5M418.7 661.3C284.9 661.3 176 552.4 176 418.6 176 284.9 284.9 176 418.7 176c133.8 0 242.6 108.9 242.6 242.7 0 133.7-108.9 242.6-242.6 242.6" p-id="2677"></path></svg></form><div id="search-result"></div><div class="search-no-result">没有找到内容！</div></div></div></widget>


<widget class="widget-wrapper toc single" id="data-toc"><div class="widget-header cap dis-select"><span class="name">Windows7 下安装 Oracle RAC11gR2</span></div><div class="widget-body fs14"><div class="doc-tree active"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B5%84%E6%BA%90"><span class="toc-text">资源</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%AD%A5%E9%AA%A4"><span class="toc-text">配置步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%87%86%E5%A4%87"><span class="toc-text">虚拟机准备</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%B4%EF%B8%8E%E8%8A%82%E7%82%B9%E5%90%8D%E7%A7%B0%E9%85%8D%E7%BD%AE"><span class="toc-text">✴︎节点名称配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%9C%AC%E5%9C%B0%E5%AE%89%E5%85%A8%E7%AD%96%E7%95%A5"><span class="toc-text">配置本地安全策略</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95-net-use"><span class="toc-text">测试 net use</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9C%E7%A8%8B%E6%B3%A8%E5%86%8C%E8%A1%A8%E8%BF%9E%E6%8E%A5%E6%B5%8B%E8%AF%95"><span class="toc-text">远程注册表连接测试</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%B4%EF%B8%8E%E9%85%8D%E7%BD%AE%E7%BD%91%E7%BB%9C"><span class="toc-text">✴︎配置网络</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E9%97%ADDHCP%E5%AA%92%E4%BD%93%E6%84%9F%E7%9F%A5"><span class="toc-text">关闭DHCP媒体感知</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E9%97%ADSNP-Features"><span class="toc-text">关闭SNP Features</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%81%9C%E6%AD%A2MSDTC%E6%9C%8D%E5%8A%A1"><span class="toc-text">停止MSDTC服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%8C%E6%AD%A5%E8%8A%82%E7%82%B9%E6%97%B6%E9%97%B4"><span class="toc-text">同步节点时间</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A3%80%E6%9F%A5%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-text">检查环境变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-DEP-%E5%92%8C-UAC"><span class="toc-text">配置 DEP 和 UAC</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98"><span class="toc-text">修改虚拟内存</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%B4%EF%B8%8E%E9%85%8D%E7%BD%AE%E5%85%B1%E4%BA%AB%E7%A3%81%E7%9B%98"><span class="toc-text">✴︎配置共享磁盘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%AF%E7%94%A8Automount-All-Nodes"><span class="toc-text">启用Automount (All Nodes)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%87%E8%AE%B0ASM%E7%A3%81%E7%9B%98"><span class="toc-text">标记ASM磁盘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%B4%EF%B8%8E%E5%AE%89%E8%A3%85Grid-Infrastructure-cluster1"><span class="toc-text">✴︎安装Grid Infrastructure (cluster1)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A3%80%E6%9F%A5ora-asm%E8%B5%84%E6%BA%90%E8%BF%90%E8%A1%8C%E7%8A%B6%E6%80%81"><span class="toc-text">检查ora.asm资源运行状态</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%B4%EF%B8%8E%E5%AE%89%E8%A3%85RDBMS%EF%BC%88cluster1%EF%BC%89"><span class="toc-text">✴︎安装RDBMS（cluster1）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8ASMCA%E5%88%9B%E5%BB%BAASM%E7%A3%81%E7%9B%98%E7%BB%84"><span class="toc-text">使用ASMCA创建ASM磁盘组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%9C%B4%EF%B8%8E%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">✴︎创建数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E8%83%BD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95"><span class="toc-text">可能遇到的问题及解决方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9B%B4%E5%A4%9A"><span class="toc-text">更多</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83"><span class="toc-text">参考</span></a></li></ol></div></div></widget>




</div>


    </aside>
    <div class='l_main'>
      

      


<div class="bread-nav fs12"><div id="breadcrumb"><a class="cap breadcrumb" href="/">主页</a><span class="sep"></span><a class="cap breadcrumb" href="/">文章</a></div><div id="post-meta">发布于&nbsp;<time datetime="2022-04-12T03:24:51.000Z">2022-04-12</time></div></div>

<article class='md-text content post'>
<h1 class="article-title"><span>Windows7 下安装 Oracle RAC11gR2</span></h1>
<p>本文介绍了如何在 Window7 环境下安装 Oracle RAC11gR2 的方法以及安装过程中遇到的一些问题的解决方法</p>
<span id="more"></span>

<h2 id="资源"><a href="#资源" class="headerlink" title="资源"></a>资源</h2><ul>
<li>win64_11gR2_grid</li>
<li>win64_11gR2_database_1of2</li>
<li>win64_11gR2_database_2of2</li>
</ul>
<p>以上资源可在官网下载</p>
<hr>
<p>安装文档以 <a href="#page0">Rac11gR2OnWindows.pdf</a> 为准，由于文档上面有很多步骤比较省略，且更接近真实环境下的配置方案，因此找了 一篇安装步骤非常接近官方文档的博客<a href="#page1"><sup>1</sup></a>作为参考，同时结合其他博客进行安装</p>
<p>首先给出网络拓扑结构如下，后面遇到问题可以返回来作为参照</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/images/Windows7%E4%B8%8B%E5%AE%89%E8%A3%85Oracle-RAC11gR2/image-20200717110829833.png" alt="总体网络拓扑"></p>
<p>正式开始配置</p>
<hr>
<h2 id="配置步骤"><a href="#配置步骤" class="headerlink" title="配置步骤"></a>配置步骤</h2><h3 id="虚拟机准备"><a href="#虚拟机准备" class="headerlink" title="虚拟机准备"></a>虚拟机准备</h3><ol>
<li>创建一个 Windows7 虚拟机（使用 VMware® Workstation 15 pro）</li>
<li>安装 jdk （版本应在 1.5 及以上）</li>
<li>为虚拟机添加一块网卡</li>
<li>克隆虚拟机</li>
</ol>
<h3 id="✴︎节点名称配置"><a href="#✴︎节点名称配置" class="headerlink" title="✴︎节点名称配置"></a>✴︎节点名称配置</h3><p>修改主机名、统一用户名密码，分别更改两台服务器的主机名为 cluster1 和 cluster2，需要重启后生效，两台服务器统一使用 administrator 用户，并且保持密码一致。</p>
<p>修改主机名在“资源管理器-&gt;右键（计算机）-&gt;属性-&gt;更改设置（计算机名称、与和工作组）-&gt;更改“，保存后重启即可</p>
<p>用户必须使用 administrator 用户，需要在“资源管理器-&gt;右键（计算机）-&gt;管理-&gt;本地用户和组“中开启并设置密码</p>
<p>对所有节点执行上述操作，保证各节点 administrator 账户的密码相同，后续操作同样需要在 administrator 账户下进行，重启后注意切换用户</p>
<h3 id="配置本地安全策略"><a href="#配置本地安全策略" class="headerlink" title="配置本地安全策略"></a>配置本地安全策略</h3><ol>
<li>运行 <code>secpol.msc</code> ,配置”安全设置-&gt;本地策略-&gt;安全选项-&gt;用户帐户控制:管理员批准模式中管理员的提升权限提示的行为”为”不提示，直接提升”。</li>
<li>确认”安全设置-&gt;本地策略-&gt;用户权限分配-&gt;管理审核和安全日志”中包括 Administrators 组。</li>
<li>运行 <code>firewall.cpl</code> ,关闭防火墙。</li>
</ol>
<p>关闭防火墙需要在 “cmd-&gt;firewall.cp-&gt;高级设置-&gt;防火墙属性” 中确定防火墙状态为关闭</p>
<h3 id="测试-net-use"><a href="#测试-net-use" class="headerlink" title="测试 net use"></a>测试 net use</h3><p>在每个节点执行 <code>net use \\remote node name\C$</code></p>
<p>提示命令成功完成则正确，否则不正确</p>
<p><a href="#label2">&gt;&gt;执行net use失败&lt;&lt;</a></p>
<h3 id="远程注册表连接测试"><a href="#远程注册表连接测试" class="headerlink" title="远程注册表连接测试"></a>远程注册表连接测试</h3><p>运行 <code>regedit</code> ,选择 “文件-&gt;连接网络注册表-&gt;输入远程节点nodename” 出现注册表结构树,测试成功.(所有节点执行)</p>
<h3 id="✴︎配置网络"><a href="#✴︎配置网络" class="headerlink" title="✴︎配置网络"></a>✴︎配置网络</h3><ol>
<li>在“网络和共享中心-&gt;更改适配器设置”中将网络适配器的名称改为”net0”和”net1”</li>
<li>按照拓扑图修改ip地址（net0为公网，net1为私网）</li>
</ol>
<blockquote>
<p>示例：</p>
<p>cluster1：</p>
<p>net0      -&gt;   Public         IP: 192.168.40.230&#x2F;24</p>
<p>net1      -&gt;   Private        IP: 10.0.0.95&#x2F;24</p>
<p>cluster2:</p>
<p>net0     -&gt;   Public         IP: 192.168.40.232&#x2F;24</p>
<p>net1    -&gt;   Private        IP:10.0.0.97&#x2F;24</p>
</blockquote>
<ol start="3">
<li>在“网络和共享中心-&gt;更改适配器设置-&gt;（按下alt）高级-&gt;高级设置”中修改连接顺序为net0-&gt;net1-&gt;…</li>
<li>修改hosts文件：位于C:\Windows\System32\drivers\etc</li>
</ol>
<blockquote>
<p>示例：</p>
<p>#public</p>
<p>192.168.40.230        cluster1</p>
<p>192.168.40.232        cluster2</p>
<p>#private</p>
<p>10.0.0.95                    cluster1-priv</p>
<p>10.0.0.97                    cluster2-priv</p>
<p>#vip</p>
<p>192.168.40.231        cluster1-vip</p>
<p>192.168.40.233        cluster2-vip</p>
<p>#scan</p>
<p>192.168.40.234        cluster-scan</p>
</blockquote>
<ol start="5">
<li>使用ping验证hosts文件修改是否成功</li>
</ol>
<h3 id="关闭DHCP媒体感知"><a href="#关闭DHCP媒体感知" class="headerlink" title="关闭DHCP媒体感知"></a>关闭DHCP媒体感知</h3><p>打开注册表定位到 <code>HKLM\SYSTEM\CurrentControlSet\Services\Tcpip\Parameters</code> 子项,新建一个 <code>DWORD</code> 类型的键值 <code>DisableDHCPMediaSense</code> ,将值修改为 1.</p>
<p>重启后使用命令 <code>netsh interface ipv4 show global</code> 验证是否成功关闭.</p>
<h3 id="关闭SNP-Features"><a href="#关闭SNP-Features" class="headerlink" title="关闭SNP Features"></a>关闭SNP Features</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">C:\&gt;netsh int tcp set global chimney=disabled</span><br><span class="line">C:\&gt;netsh int tcp set global rss=disabled</span><br></pre></td></tr></table></figure>

<p>重启后使用命令 <code>C:\&gt;netsh interface ipv4 show global</code> 验证是否成功关闭</p>
<h3 id="停止MSDTC服务"><a href="#停止MSDTC服务" class="headerlink" title="停止MSDTC服务"></a>停止MSDTC服务</h3><p>运行 <code>services.msc</code> ,将 <code>Distributed Transaction Coordinator (MSDTC)</code> 服务停止,并设为”手动”.</p>
<h3 id="同步节点时间"><a href="#同步节点时间" class="headerlink" title="同步节点时间"></a>同步节点时间</h3><p>1、运行 <code>Regedit</code> 定位到 <code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\W32Time\Config</code> 子项,将主键 <code>MaxNegPhaseCorrection</code> 数值修改为0,关闭注册表程序.</p>
<p>执行同步: <code>C:\&gt;W32tm /config /update</code> (需要连接Internet)</p>
<p>2、或者：在 RAC2 服务器上运行命令：<code>net time \rac1</code> (查看 RAC1 的当前时间)然后在 RAC2 服务器上运行命令：<code>net time \rac1 /set /y</code> (设置 RAC2 时间与 RAC1 同 步)（建议使用这种方式）</p>
<h3 id="检查环境变量"><a href="#检查环境变量" class="headerlink" title="检查环境变量"></a>检查环境变量</h3><p>计算机 右键-&gt;属性-&gt;高级系统设置-&gt;环境变量,确认变量TMP和TEMP值相同.</p>
<h3 id="配置-DEP-和-UAC"><a href="#配置-DEP-和-UAC" class="headerlink" title="配置 DEP 和 UAC"></a>配置 DEP 和 UAC</h3><p>1、分别配置两台服务器上的数据执行保护（DEP），选择‘仅为基本 windows程序和服务启用’，需要重启后才能生效（可配置完下一步后一起重启）</p>
<p>确认两台服务器上的 UAC，若需要配置则在重启后生效(默认不需要配置)</p>
<h3 id="修改虚拟内存"><a href="#修改虚拟内存" class="headerlink" title="修改虚拟内存"></a>修改虚拟内存</h3><p>由于服务器的内存为 16G，按照 Oracle 的官方文档，虚拟内存至少为实际内 存的 2 倍，此处选择在本地磁盘一个较大的空白分区（E 盘）中划分了虚拟 内存，取值范围：32G~64G，即初始值：32768MB，最大值：65536MB</p>
<h3 id="✴︎配置共享磁盘"><a href="#✴︎配置共享磁盘" class="headerlink" title="✴︎配置共享磁盘"></a>✴︎配置共享磁盘</h3><blockquote>
<p>这一步与使用的虚拟机及其版本有关，这里使用的是VMware® Workstation 15 pro，使用其他如VirtualBox请自行搜索配置方式</p>
</blockquote>
<p>在虚拟机中添加2块磁盘分别用作OCR_VOTE（表决磁盘）以及DATA（数据磁盘）：</p>
<p>虚拟磁盘类型：SCSI(S)</p>
<p>→创建新的虚拟磁盘（第一次创建，之后使用现有的虚拟磁盘）</p>
<p>→磁盘大小（OCR：4G，DATA：16G，FRA：8G（如果有））、立即分配、存储为单个文件</p>
<p>在“虚拟机设置→选中硬盘→高级”中将新添加的虚拟设备节点按照顺序设为SCSI 1:x</p>
<p>在其他节点中添加相同数量的虚拟磁盘，并将设备节点一一对应设置</p>
<p>打开虚拟机文件（xxx.vmx）添加如下行（注意删除已存在的重复行）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">disk.locking=&quot;FALSE&quot;</span><br><span class="line">disk.EnableUUID = &quot;TRUE&quot;</span><br><span class="line">diskLib.dataCacheMaxSize = &quot;0&quot;</span><br><span class="line">diskLib.dataCacheMaxReadAheadSize = &quot;0&quot;</span><br><span class="line">diskLib.dataCacheMinReadAheadSize = &quot;0&quot;</span><br><span class="line">diskLib.dataCachePageSize = &quot;0&quot;</span><br><span class="line">diskLib.maxUnsyncedWrites = &quot;0&quot;</span><br><span class="line">scsi1.shared=&quot;TRUE&quot;</span><br><span class="line">scsi1.virtualDev = &quot;lsilogic&quot;</span><br><span class="line">scsi1.sharedBus = &quot;VIRTUAL&quot;</span><br><span class="line">scsi1.present = &quot;TRUE&quot;</span><br></pre></td></tr></table></figure>

<p>并在克隆的虚拟机vmx文件中额外添加如下行（取决于磁盘数量）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">scsi1:0.mode = &quot;independent-persistent&quot;</span><br><span class="line">scsi1:1.mode = &quot;independent-persistent&quot;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>配置完成后重新打开“虚拟机设置”中可以看到克隆机显示磁盘为（独立）</p>
<p><a href="#label3">&gt;&gt;可能存在的问题&lt;&lt;</a></p>
<p>开机，在“计算机→（右键）管理→磁盘管理”中可以看到刚刚添加的磁盘，同时会提示需要对磁盘进行初始化（没有弹出提示的话可以手动全部选中，点击右键→初始化磁盘），并选择使用GPT初始化</p>
<p>为每一个节点执行上一步操作</p>
<p>为每一块磁盘选择“右键→新建简单卷→不分配驱动器号或驱动器路径→不要格式化这个卷“</p>
<p>完成后应该显示磁盘为RAW设备</p>
<p>在另一台虚拟机上打开磁盘管理重新扫描磁盘即可</p>
<p><a href="#label4">&gt;&gt;共享磁盘显示不正确&lt;&lt;</a></p>
<h3 id="启用Automount-All-Nodes"><a href="#启用Automount-All-Nodes" class="headerlink" title="启用Automount (All Nodes)"></a>启用Automount (All Nodes)</h3><p>进行命令行窗口,运行:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">C:\&gt; diskpart</span><br><span class="line">DISKPART&gt; AUTOMOUNT ENABLE</span><br></pre></td></tr></table></figure>

<h3 id="标记ASM磁盘"><a href="#标记ASM磁盘" class="headerlink" title="标记ASM磁盘"></a>标记ASM磁盘</h3><p>在cluster1执行以下命令（cd至 grid安装目录\asmtool）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E:\grid\asmtool&gt;asmtoolg.exe</span><br></pre></td></tr></table></figure>

<p>在弹出的图形化界面中进行以下操作：</p>
<p>选择“Add or change label“</p>
<p>→选中作为表决磁盘的虚拟硬盘</p>
<p>→修改下方标记为“OCR”</p>
<p>→点击下一步</p>
<blockquote>
<p>这一步只需在cluster1节点下操作，并且此时只标记OCR磁盘组，用于DATA组的硬盘暂不处理</p>
</blockquote>
<h3 id="✴︎安装Grid-Infrastructure-cluster1"><a href="#✴︎安装Grid-Infrastructure-cluster1" class="headerlink" title="✴︎安装Grid Infrastructure (cluster1)"></a>✴︎安装Grid Infrastructure (cluster1)</h3><p>执行预检查</p>
<p><code>D:\11\grid&gt;runcluvfy stage -pre crsinst -n rac1,rac2 -verbose</code></p>
<p>如果有报错,检查修改前面的设置直到预检查成功</p>
<ol>
<li><p>在grid目录下执行setup.exe程序</p>
</li>
<li><p>选择“跳过软件更新”</p>
</li>
<li><p>选择‘为集群安装和配置 集群的网络基础结构’</p>
</li>
<li><p>选择‘高级安装’</p>
</li>
<li><p>选择安装语言</p>
</li>
<li><p>填写集群名称和 SCAN 名称，必须填写 hosts 文件中 SCAN IP 对应的主机名,确认去掉“配置GNS”复选框。</p>
</li>
</ol>
<blockquote>
<p>示例：</p>
<p>集群名称：mer-cluster</p>
<p>scan名称：cluster-scan</p>
<p>scan端口：1521</p>
</blockquote>
<ol start="7">
<li><p>添加其他节点（应当显示cluster1和cluster2）</p>
</li>
<li><p>更改网络接口类型，默认选项如果不对，需要手动更改</p>
</li>
<li><p>此处选择‘自动存储管理（ASM）</p>
</li>
<li><p>选择相应的OCR磁盘组，并输入磁盘组名称OCR</p>
</li>
</ol>
<blockquote>
<p> 示例：</p>
<p>磁盘组名：OCR</p>
<p>冗余：外部</p>
<p>添加磁盘：候选磁盘（选择标记为OCR的磁盘路径）</p>
</blockquote>
<ol start="11">
<li>添加 ASM （ASMSnmp）口令（topsec）</li>
</ol>
<p>由于设置的密码不符合标准，需要确认来强制使用</p>
<ol start="12">
<li><p>此处选择‘不使用 IPMI</p>
</li>
<li><p>选择软件相关目录</p>
</li>
</ol>
<blockquote>
<p>示例：</p>
<p>Oracle基目录：C:\app\Administrator</p>
<p>软件位置：C:\app\11.2.0\grid</p>
</blockquote>
<ol start="14">
<li><p>先决条件检查，如果检查通过，则出现概要，如果提示失败，会有相应的提示，请根据提示 检查之前步骤中的设置是否存在问题</p>
</li>
<li><p>开始安装后，会在”网格基础结构配置“处停顿较长时间，此处也是 grid 安装成功与否的关键所在，如果此处出现问题，则需要 卸 载 grid，并检查之前所有的设置，然后再次尝试安装，直到显示成功为止。</p>
</li>
<li><p>安装成功完成</p>
</li>
</ol>
<h3 id="检查ora-asm资源运行状态"><a href="#检查ora-asm资源运行状态" class="headerlink" title="检查ora.asm资源运行状态"></a>检查ora.asm资源运行状态</h3><p>grid 安装完成后，如果安装成功，可在 dos 环境下通过 <code>crs_stat –t –v</code> 命令或者 <code>crsctl  status res -t</code>  查看集 群启动了哪 些服务</p>
<h3 id="✴︎安装RDBMS（cluster1）"><a href="#✴︎安装RDBMS（cluster1）" class="headerlink" title="✴︎安装RDBMS（cluster1）"></a>✴︎安装RDBMS（cluster1）</h3><p>执行预检查</p>
<p><code>D:\grid&gt;runcluvfy stage -pre dbinst -n rac1,rac2 -verbose</code></p>
<p> 开始安装</p>
<ol>
<li><p>执行database目录下setup.exe程序</p>
</li>
<li><p>确认跳过‘指定电子邮件地址</p>
</li>
<li><p>选择“跳过软件更新”</p>
</li>
<li><p>选择‘仅安装数据库软件</p>
</li>
<li><p>查看节点名称是否正确</p>
</li>
<li><p>选择安装语言</p>
</li>
<li><p>选择安装企业版，并且勾选所有组件</p>
</li>
<li><p>选择安装路径</p>
</li>
</ol>
<blockquote>
<p>示例：</p>
<p>Oracle基目录：C:\app\Administrator</p>
<p>软件位置：C:\app\Administrator\product\11.2.0\db_home1</p>
</blockquote>
<ol start="9">
<li>先决条件检查</li>
<li>安装概要</li>
<li>安装到此处时，执行远程安装 RAC2 节点的数据库，此时等待时间会很长， 请耐心等待</li>
<li>✴︎<strong>安装完成后需要根据提示在cluster2节点上执行操作（注意别随手关闭提示）</strong></li>
</ol>
<blockquote>
<p>C:\app\Administrator\product\11.2.0\dbhome_1\BIN\selecthome.bat</p>
</blockquote>
<p>执行过程中出现的计数器尚未安装可以忽略</p>
<p><a href="#label5">&gt;&gt;安装RDBMS失败（不要关闭提示窗口）&lt;&lt;</a></p>
<h3 id="使用ASMCA创建ASM磁盘组"><a href="#使用ASMCA创建ASM磁盘组" class="headerlink" title="使用ASMCA创建ASM磁盘组"></a>使用ASMCA创建ASM磁盘组</h3><ol>
<li>在命令行下执行<code>asmca</code></li>
<li>在磁盘组选项卡中点击新建</li>
<li>单击在磁盘上加载标记</li>
<li>参考标记OCR的方式标记DATA磁盘</li>
<li>标记完成后填写磁盘组为DATA，冗余为外部，选择标记的磁盘，点击确定</li>
<li>创建磁盘组</li>
<li>按照相同的方法标记和创建 FRA 磁盘组（有需要的话）</li>
<li>创建完成后退出.</li>
</ol>
<h3 id="✴︎创建数据库"><a href="#✴︎创建数据库" class="headerlink" title="✴︎创建数据库"></a>✴︎创建数据库</h3><p>执行预检查</p>
<p><code>D:\grid&gt;runcluvfy stage -pre dbcfg -n all -d D:\app\Administrator\product\11.2.0\db1</code></p>
<p>创建数据库</p>
<p><code>D:\&gt;dbca</code></p>
<p><a href="#label6">&gt;&gt;找不到dbca命令&lt;&lt;</a></p>
<ol>
<li>选择RAC数据库</li>
<li>选择创建数据库</li>
<li>一般用途或事务处理</li>
<li>配置数据库标示</li>
</ol>
<blockquote>
<p>示例：</p>
<p>配置类型：管理员管理的</p>
<p>全局数据库名：mer</p>
<p>SID前缀：mer</p>
<p>单击全选</p>
</blockquote>
<ol start="5">
<li>配置管理选项</li>
</ol>
<blockquote>
<p>示例：</p>
<p>勾选配置Enterprise Manager</p>
<p>选择配置Database Control进行本地管理</p>
<p>不勾选预警通知与每日备份</p>
</blockquote>
<ol start="6">
<li>对所有账户使用同一管理口令</li>
<li>使用Oracle-Managed Files，选择数据库区为刚刚标记的DATA磁盘组</li>
<li>输入之前设置的ASM口令</li>
<li>取消勾选快速恢复区</li>
<li>配置字符集→从字符集列表中选择→”ZHS16GBK - GBK16位简体中文“</li>
<li>数据库存储</li>
<li>创建数据库</li>
<li>数据库概要</li>
<li>等待创建完成</li>
</ol>
<p><a href="#label6">&gt;&gt;数据库创建失败&lt;&lt;</a></p>
<p>数据库创建完成中可能弹出提示如下:</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/images/Windows7%E4%B8%8B%E5%AE%89%E8%A3%85Oracle-RAC11gR2/%E6%8D%95%E8%8E%B74.PNG" alt="捕获4"></p>
<p>此时按照提示在相应节点上（此处为cluster2）执行命令：</p>
<blockquote>
<p>首先确定dbconsole状态：</p>
<p>​    C:\&gt;emctl status dbconsole</p>
<p>若显示：Environment variable ORACLE_UNQNAME not defined. Please define it.</p>
<p>则设置环境变量ORACLE_UNQNAME:</p>
<p>​    C:\&gt;set ORACLE_UNQNAME&#x3D;mer</p>
<p>若提示其他（如sid）未定义，则也设置相应的值</p>
<p>之后执行提示的第二步命令：</p>
<p>​    C:\…\db_home\bin\emctl.bat start dbconsole</p>
</blockquote>
<p>执行完毕后回到cluster1节点点击确定提示集群数据库创建完成，并返回管理url</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/images/Windows7%E4%B8%8B%E5%AE%89%E8%A3%85Oracle-RAC11gR2/%E6%8D%95%E8%8E%B75-5211485.PNG" alt="捕获5"></p>
<p>点击口令管理，解锁scott账户，设定密码</p>
<p>至此集群安装完成，在web端输入db control url即可访问管理登录界面，使用</p>
<blockquote>
<p>用户名：SYSTEM</p>
<p>密码：topsec（之前设置的统一管理密码）</p>
</blockquote>
<p>即可登录到集群管理界面</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/images/Windows7%E4%B8%8B%E5%AE%89%E8%A3%85Oracle-RAC11gR2/%E6%8D%95%E8%8E%B76.PNG" alt="捕获6"></p>
<p><a href="#label7">&gt;&gt;登录失败&lt;&lt;</a></p>
<hr>
<h3 id="可能遇到的问题及解决方法"><a href="#可能遇到的问题及解决方法" class="headerlink" title="可能遇到的问题及解决方法"></a>可能遇到的问题及解决方法</h3><p><a name = "label2">1、执行net use失败</a></p>
<p>错误号5，拒绝访问：很可能你使用的用户不是管理员权限的，先提升权限；<br>错误号51，Windows无法找到网络路径：网络有问题；<br>错误号53，找不到网络路径：ip地址错误；目标未开机；目标lanmanserver服务未启动；目标有防火墙（端口过滤）；<br>错误号67，找不到网络名：你的lanmanworkstation服务未启动或者目标删除了ipc$；<br>错误号1219，提供的凭据与已存在的凭据集冲突：你已经和对方建立了一个ipc$，请删除再连；<br>错误号1326，未知的用户名或错误密码：原因很明显了；<br>错误号1792，试图登录，但是网络登录服务没有启动：目标NetLogon服务未启动；<br>错误号2242，此用户的密码已经过期：目标有帐号策略，强制定期要求更改密码；</p>
<ul>
<li>确定当前登录用户为administrator</li>
<li>确定已为administrator用户设定密码</li>
<li>执行<code>net share</code>确定包含<code>C$</code></li>
<li>在”Windows+R”中执行<code>secpol.msc</code>，确定“安全设置→本地策略→安全选项”中“网络访问：本地账户的共享和安全模型”设置为“经典：对本地用户…“</li>
</ul>
<p><a name = "label3">2、vmx文件中可能存在的问题</a></p>
<p>在多数的博客中，设置<code>disk.EnableUUID</code>与<code>scsi1.virtualDev</code>的值为如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">disk.EnableUUID = &quot;TRUE&quot;</span><br><span class="line">scsi1.virtualDev = &quot;lsilogic&quot;</span><br></pre></td></tr></table></figure>

<p>但在少数博客中将这个值设置（或保持原来的值）为</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">disk.EnableUUID = &quot;FALSE&quot;</span><br><span class="line">scsi1.virtualDev = &quot;lsisas1068&quot;</span><br></pre></td></tr></table></figure>

<p>经测试这两种值似乎不影响共享磁盘的效果，但这里仍旧推荐使用第一种的配置值</p>
<p><a  name= "label4">3、共享磁盘显示不正确</a></p>
<p>检查是否所有节点都显示磁盘以联机，尝试重新配置</p>
<p><a name = "label5">4、安装RDBMS失败</a></p>
<ul>
<li>预检查成功，但安装时提示对于节点磁盘空间的先决检查失败</li>
</ul>
<p>可以忽略该问题，对后续安装过程不造成影响</p>
<ul>
<li>安装中途cluster2死机或重启导致安装中断</li>
</ul>
<p>暂时不要关闭提示窗口，重启cluster2并切换至administrator账户，等待至集群服务启动后（各vip、scan-ip可以ping通）返回cluster1点击确定可以继续安装</p>
<ul>
<li>所选安装与指定 Oracle 主目录中已安装的软件冲突 的问题</li>
</ul>
<p>正确的做法是卸载RDBMS，清除相关文件、注册表以及服务并重新安装，但是没有找到相关的文档，删除所有Oracle项又会对以安装的grid项造成影响，因此此处选择修改数据库软件安装路径，将<code>dbhome_1</code>修改为<code>dbhome_2</code>，修改后可能会出现“无法启动&#x2F;关闭&#x2F;找到指定路径 OracleMTSRecoveryService”，解决方法同下</p>
<ul>
<li>OracleMTSRecoveryService  无法启动&#x2F;关闭&#x2F;找到指定路径</li>
</ul>
<p>首先打开Win+R，“（输入）services.msc→（找到）OracleMTSRecoveryService  “，若该服务不存在则不适用于下述解决方法，初次安装时提示无法启动不适用</p>
<p>确定该服务存在并确定其启动类型为自动后，打开Win+R，“（输入）regedit→（找到）HKEY_LOCAL_MACHINE→SYSTEM→CurrentControlSet→services→OracleMTSRecoveryService”，修改ImagePath的值为新的安装路径（dbhome_2），并对以下位置进行同样的修改：</p>
<blockquote>
<p>HKEY_LOCAL_MACHINE→SYSTEM→CurrentControlSet→services→OracleMTSRecoveryService</p>
<p>HKEY_LOCAL_MACHINE→SYSTEM→ControlSet001→services→OracleMTSRecoveryService</p>
<p>HKEY_LOCAL_MACHINE→SYSTEM→ControlSet002→services→OracleMTSRecoveryService</p>
<p>其他节点的对应位置</p>
</blockquote>
<p>修改完成后点击确定关闭提示窗口继续安装</p>
<p>若是<strong>初次安装时提示无法启动OracleMTSRecoveryService服务</strong>，则在cluster2节点打开Win+R，“（输入）services.msc→（找到）OracleRemExecService “，若ImagePath中的路径在Temp后有两个\，则删除后刷新注册表（重启explorer）,返回cluster1节点点击重试即可</p>
<p><a name = "label6">5、数据库创建失败</a></p>
<ul>
<li>‘dbca’ 不是内部或外部命令，也不是可运行的程序或批处理文件：</li>
</ul>
<p>重启cmd，若仍找不到命令请确定RDBMS安装正确</p>
<ul>
<li>配置em失败，提示如下：</li>
</ul>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/images/Windows7%E4%B8%8B%E5%AE%89%E8%A3%85Oracle-RAC11gR2/%E6%8D%95%E8%8E%B72.PNG" alt="捕获2"></p>
<p>该问题未知明确的解决流程，首先尝试重新运行dbca，若再次失败则按照提示运行使用emca脚本，命令为</p>
<p><code>emca -config dbcontrol db -repos create</code></p>
<p>按照提示输入</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/images/Windows7%E4%B8%8B%E5%AE%89%E8%A3%85Oracle-RAC11gR2/%E6%8D%95%E8%8E%B73.PNG" alt="捕获3"></p>
<p>确定后可能提示实例不存在或其他错误，返回重新执行<code>dbca</code>，若依旧失败需自行寻找解决办法</p>
<blockquote>
<p>已明确的：</p>
<p>​    不需要配置监听程序，即使查看监听程序不存在</p>
<p>​    此时emca执行失败是正常的，create或是recreate</p>
<p>​    大概率在emca失败后重新执行dbca可以解决该问题（可能的原因，emca执行过程中创建了监听器等dbca所需的环境）</p>
</blockquote>
<p><a name = "label7">6、登录失败</a></p>
<p>若确定用户名&#x2F;密码正确，尝试重启cluster</p>
<p>重启后执行<code>crsctl check crs</code>，确定连接正常后再行尝试登录</p>
<p>若依旧失败尝试使用以下命令（administrator账户下）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">（1）以sysdba身份登录，不需要提供用户名和密码。</span><br><span class="line">  sqlplus /as sysdba ;</span><br><span class="line"> </span><br><span class="line">（2）为用户解锁。</span><br><span class="line">alter user system account unlock;</span><br><span class="line"></span><br><span class="line">（3）重新设定密码。</span><br><span class="line">alter user system identified by system123456;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="更多"><a href="#更多" class="headerlink" title="更多"></a>更多</h2><p>任何情况下提示如下问题时：</p>
<blockquote>
<p>CRS-4639：无法连接 Oracle 高可用性服务，ohasd.bin 未运行或 ohasd.bin 虽在运行但无 init.ohasd 或其他进程</p>
<p>CRS-4530：联系集群同步服务守护进程时出现通信故障，ocssd.bin 未运行</p>
<p>CRS-4535：无法与集群就绪服务通信，crsd.bin 未运行</p>
</blockquote>
<p>请检查<code>crsctl check crs</code>是否返回对应服务正常，若刚重启节点，请等待一段时间，否则请重启节点再试</p>
<p>安装完成后的检查项：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">crs_stat -t -v</span><br><span class="line"></span><br><span class="line">srvctl status listener -n cluster1</span><br><span class="line"></span><br><span class="line">srvctl status listener -n cluster2</span><br><span class="line"></span><br><span class="line">srvctl config database -d mer</span><br><span class="line"></span><br><span class="line">srvctl status database -d mer</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul>
<li><a id = "page0"><a target="_blank" rel="noopener" href="https://pdfslide.net/documents/racguidesrac11gr2onwindows.html">RAC11gR2OnWindows.pdf</a></a></li>
<li><a id = "page1"><a target="_blank" rel="noopener" href="https://www.cnblogs.com/yhfssp/p/7821593.html">Oracle 11G RAC For Windows 2008 R2部署手册（亲测，成功实施多次）</a></a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/blvyoucan/article/details/71212334">Oracle11gR2 RAC for Windows安装上篇</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/xiaoxiaoweng/p/7277969.html">在安装oracle 11g时，出现执行先决条件失败的情况如下</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/xiaokui008/article/details/7184096">oracle下system用户解锁和改密码</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/zylong-sys/p/12166178.html"><a target="_blank" rel="noopener" href="https://www.cnblogs.com/zylong-sys/p/12166178.html">EM Express不起作用的故障排除 (Doc ID 1604062.1)</a></a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/sunwei335/article/details/10467579?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.compare&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.compare">监听程序未启动或数据库服务未注册到该监听程序解决方法</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/linda1000/article/details/9185467">net use访问远程电脑</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/robinson_0612/article/details/6134071">ASM磁盘、目录的管理</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/weixiaoling/p/6093271.html">安装oracle 11g时出现启动服务出现错误，找不到OracleMTSRecoveryService</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/haiross/article/details/12775151?utm_medium=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromMachineLearnPai2-1.compare&depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromMachineLearnPai2-1.compare">以sysdba身份登录oracle报ORA-1031权限不足错误之完美分析</a></li>
<li><a target="_blank" rel="noopener" href="http://blog.itpub.net/30174570/viewspace-2140746/">Oracle中sqlplus登录报错SP2-0667和SP2-0750探究</a></li>
</ul>


<div class="article-footer reveal fs14"><section id="license"><div class="header"><span>许可协议</span></div><div class="body"><p>本文采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">署名-非商业性使用-相同方式共享 4.0 国际</a> 许可协议，转载请注明出处。</p>
</div></section></div>

</article>

<div class="related-wrap reveal" id="read-next"><section class="body"><div class="item" id="prev"><div class="note">较新文章</div><a href="/posts/4037772901/">RAC 集群访问过程分析</a></div><div class="item" id="next"><div class="note">较早文章</div><a href="/posts/649054200/">Nginx 多阶段 Http 请求处理流程</a></div></section></div>






  <div class='related-wrap md-text reveal' id="comments">
    <section class='header cmt-title cap theme'>
      快来参与讨论吧
    </section>
    <section class='body cmt-body giscus'>
      

<svg class="loading" style="vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2709"><path d="M832 512c0-176-144-320-320-320V128c211.2 0 384 172.8 384 384h-64zM192 512c0 176 144 320 320 320v64C300.8 896 128 723.2 128 512h64z" p-id="2710"></path></svg>

<div id="giscus" data-repo="Mer1997/Mer1997.github.io.comment" data-repo-id="R_kgDOJOGXvw" data-category="Announcements" data-category-id="DIC_kwDOJOGXv84CVIyU" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="preferred_color_scheme" data-lang="zh-CN" data-loading="lazy" crossorigin="anonymous"></div>

    </section>
  </div>



      
<footer class="page-footer reveal fs12"><hr><div class="text"><p>本站由 <a href="/">@anonymity</a> 使用 <a target="_blank" rel="noopener" href="https://github.com/xaoxuu/hexo-theme-stellar">Stellar</a> 主题创建。<br>本博客所有文章除特别声明外，均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议，转载请注明出处。</p>
</div></footer>

      <div class='float-panel mobile-only blur' style='display:none'>
  <button type='button' class='sidebar-toggle mobile' onclick='sidebar.toggle()'>
    <svg class="icon" style="width: 1em; height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15301"><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 2.3 26.8 24.6 47.5 51.6 47.6h416.5v4z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15302"></path><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 1.9 27.7 23.9 49.7 51.6 51.6h416.5z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15303"></path></svg>
  </button>
</div>

    </div>
  </div>
  <div class='scripts'>
    <script type="text/javascript">
  const stellar = {
    // 懒加载 css https://github.com/filamentgroup/loadCSS
    loadCSS: (href, before, media, attributes) => {
      var doc = window.document;
      var ss = doc.createElement("link");
      var ref;
      if (before) {
        ref = before;
      } else {
        var refs = (doc.body || doc.getElementsByTagName("head")[0]).childNodes;
        ref = refs[refs.length - 1];
      }
      var sheets = doc.styleSheets;
      if (attributes) {
        for (var attributeName in attributes) {
          if (attributes.hasOwnProperty(attributeName)) {
            ss.setAttribute(attributeName, attributes[attributeName]);
          }
        }
      }
      ss.rel = "stylesheet";
      ss.href = href;
      ss.media = "only x";
      function ready(cb) {
        if (doc.body) {
          return cb();
        }
        setTimeout(function () {
          ready(cb);
        });
      }
      ready(function () {
        ref.parentNode.insertBefore(ss, before ? ref : ref.nextSibling);
      });
      var onloadcssdefined = function (cb) {
        var resolvedHref = ss.href;
        var i = sheets.length;
        while (i--) {
          if (sheets[i].href === resolvedHref) {
            return cb();
          }
        }
        setTimeout(function () {
          onloadcssdefined(cb);
        });
      };
      function loadCB() {
        if (ss.addEventListener) {
          ss.removeEventListener("load", loadCB);
        }
        ss.media = media || "all";
      }
      if (ss.addEventListener) {
        ss.addEventListener("load", loadCB);
      }
      ss.onloadcssdefined = onloadcssdefined;
      onloadcssdefined(loadCB);
      return ss;
    },

    // 从 butterfly 和 volantis 获得灵感
    loadScript: (src, opt) => new Promise((resolve, reject) => {
      var script = document.createElement('script');
      script.src = src;
      if (opt) {
        for (let key of Object.keys(opt)) {
          script[key] = opt[key]
        }
      } else {
        // 默认异步，如果需要同步，第二个参数传入 {} 即可
        script.async = true
      }
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    }),

    // https://github.com/jerryc127/hexo-theme-butterfly
    jQuery: (fn) => {
      if (typeof jQuery === 'undefined') {
        stellar.loadScript(stellar.plugins.jQuery).then(fn)
      } else {
        fn()
      }
    }
  };
  stellar.version = '1.18.5';
  stellar.github = 'https://github.com/xaoxuu/hexo-theme-stellar/tree/1.18.5';
  stellar.config = {
    date_suffix: {
      just: '刚刚',
      min: '分钟前',
      hour: '小时前',
      day: '天前',
      month: '个月前',
    },
  };

  // required plugins (only load if needs)
  stellar.plugins = {
    jQuery: 'https://gcore.jsdelivr.net/npm/jquery@3.6.2/dist/jquery.min.js'
  };

  if ('local_search') {
    stellar.search = {};
    stellar.search.service = 'local_search';
    if (stellar.search.service == 'local_search') {
      let service_obj = Object.assign({}, {"field":"all","path":"/search.json","content":true,"sort":"-date"});
      stellar.search[stellar.search.service] = service_obj;
    }
  }

  // stellar js
  stellar.plugins.stellar = Object.assign({"sites":"/js/plugins/sites.js","friends":"/js/plugins/friends.js","ghinfo":"/js/plugins/ghinfo.js","timeline":"/js/plugins/timeline.js","linkcard":"/js/plugins/linkcard.js","fcircle":"/js/plugins/fcircle.js","weibo":"/js/plugins/weibo.js"});

  stellar.plugins.marked = Object.assign("https://cdn.bootcdn.net/ajax/libs/marked/4.0.18/marked.min.js");
  // optional plugins
  if ('true' == 'true') {
    stellar.plugins.lazyload = Object.assign({"enable":true,"js":"https://gcore.jsdelivr.net/npm/vanilla-lazyload@17.8.3/dist/lazyload.min.js","transition":"blur"});
  }
  if ('true' == 'true') {
    stellar.plugins.swiper = Object.assign({"enable":true,"css":"https://unpkg.com/swiper@8.4.5/swiper-bundle.min.css","js":"https://unpkg.com/swiper@8.4.5/swiper-bundle.min.js"});
  }
  if ('' == 'true') {
    stellar.plugins.scrollreveal = Object.assign({"enable":null,"js":"https://gcore.jsdelivr.net/npm/scrollreveal@4.0.9/dist/scrollreveal.min.js","distance":"8px","duration":500,"interval":100,"scale":1});
  }
  if ('true' == 'true') {
    stellar.plugins.preload = Object.assign({"enable":true,"service":"flying_pages","instant_page":"https://gcore.jsdelivr.net/gh/volantis-x/cdn-volantis@4.1.2/js/instant_page.js","flying_pages":"https://gcore.jsdelivr.net/gh/gijo-varghese/flying-pages@2.1.2/flying-pages.min.js"});
  }
  if ('true' == 'true') {
    stellar.plugins.fancybox = Object.assign({"enable":true,"js":"https://gcore.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.umd.js","css":"https://gcore.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.css","selector":".swiper-slide img"});
  }
  if ('false' == 'true') {
    stellar.plugins.heti = Object.assign({"enable":false,"css":"https://unpkg.com/heti@0.9.2/umd/heti.min.css","js":"https://unpkg.com/heti@0.9.2/umd/heti-addon.min.js"});
  }
</script>

<!-- required -->

  
<script src="/js/main.js" async></script>



<!-- optional -->

  <script>
  function loadJS() {
    const els = document.querySelectorAll("#comments #giscus");
    if (els.length === 0) return;
    els.forEach((el, i) => {
      try {
        el.innerHTML = '';
      } catch (error) {
        console.log(error);
      }
      var script = document.createElement('script');
      script.src = 'https://giscus.app/client.js';
      script.async = true;
      for (let key of Object.keys(el.attributes)) {
        let attr = el.attributes[key];
        if (['class', 'id'].includes(attr.name) === false) {
          script.setAttribute(attr.name, attr.value);
        }
      }
      el.appendChild(script);
    });
  }
  window.addEventListener('DOMContentLoaded', (event) => {
    loadJS();
  });
</script>




<!-- inject -->


  </div>
</body>
</html>
